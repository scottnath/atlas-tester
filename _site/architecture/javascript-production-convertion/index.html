<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
</head>

<body>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"></a>
              </div>
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Home</a></li>
                    <li class="active visible-xs-block"><a href="/links.html">Links</a></li>
                    <li class="active"><a href="/architecture">Architecture</a></li>
                    <li class="active"><a href="/flow">Flow</a></li>
                    
                      <li class="active"><a href="https://github.com/scottnath/atlas">Github</a></li>
                    
                </ul>
              </div>
        </div>
    </div>
</div>


<div class="container container-left">
    <div class="row">
        <div class="col-md-3 hidden-xs">
            <!-- <div class="sidebar well">
Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.

</div>

<div class="sidebar well">
    <h1>Recent Posts</h1>
    <ul>
        
          <li><a href="/jekyll/update/2015/02/17/welcome-to-jekyll.html">Welcome to Jekyll!</a></li>
        
    </ul>
</div> -->

<div class="sidebar well">
<ul>
  <li><a href="/requirements">Requirements</a></li>
  <li><a href="/installation">Installation</a></li>
  <li><a href="/gulp-tasks">Gulp Tasks</a></li>
</ul>
</div>
<div class="sidebar well">
<h1>Architecture</h1>
<ul>

  
    
    
    <li><a class="page-link" href="/architecture/javascript-framework/">Javascript Framework</a></li>
    
    
  
    
  
    
    
    <li><a class="page-link" href="/architecture/browser-reload/">Browser Reload/Server</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/build-creation/">Build Creation</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/compass/">Compass</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/css-linting/">CSS Linting</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/css-production-conversion/">CSS Production Conversion</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/e2e-testing/">End-2-End Testing</a></li>
    
    
  
    
  
    
    
    <li><a class="page-link" href="/architecture/file-revisioning/">File Revisioning</a></li>
    
    
  
    
  
    
  
    
    
    <li><a class="page-link" href="/architecture/html-production-conversion/">HTML Production Conversion</a></li>
    
    
  
    
    
    
  
    
  
    
  
    
  
    
  
    
    
    <li><a class="page-link" href="/architecture/javascript-globbing/">Javascript Globbing</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/javascript-linting/">JavaScript Linting</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/javascript-production-convertion/">Javascript Prod Conversion</a></li>
    
    
  
    
  
    
    
    <li><a class="page-link" href="/architecture/scss-globbing/">SCSS Globbing</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/scss-linting/">SCSS Linting</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/taskrunner/">Taskrunner</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/architecture/unit-testing/">Unit Testing</a></li>
    
    
  
</ul>

<h1>Doc Flow Diagrams</h1>
<ul>

  
    
  
    
    
    <li><a class="page-link" href="/flow/html/">HTML Templates</a></li>
    
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
    
    
  
    
  
    
  
    
  
    
  
    
    
    <li><a class="page-link" href="/flow/scss/">SCSS</a></li>
    
    
  
    
    
    <li><a class="page-link" href="/flow/javascript/">Javascript</a></li>
    
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>

</div>

        </div>
        <div class="col-md-9">
            <div class="post">

  <header class="post-header">
    <h1 class="post-title">Javascript Prod Conversion</h1>
  </header>

  <article class="post-content">
    <p>Tasks needed to complete:
* concatenate bower (third-party) scripts into one
* minify bower scripts
* concatenate app scripts into one
* minify app scripts
* save new versions to production build/distribution folder</p>

<h2 id="options-for-minification">Options for minification</h2>
<ul>
  <li><a href="https://github.com/mishoo/UglifyJS2">uglifyjs2</a>
    <ul>
      <li><a href="https://github.com/terinjokes/gulp-uglify">gulp-uglify</a> is the gulp version of uglifyjs2</li>
      <li><a href="https://github.com/craigjennings11/gulp-uglifyjs">gulp-uglifyjs</a></li>
    </ul>
  </li>
</ul>

<p>The main difference between gulp-uglify and gulp-uglifyjs is that the latter can glob files or pull in an array of files. Nice feature, but that can be handled by other scripts. Removing that extra code makes the former (gulp-uglify) a better choice as the developer is more active and its version of uglifyjs2 is more up-to-date with the latest version.</p>

<h2 id="choice-gulp-uglifyhttpsgithubcomterinjokesgulp-uglify">Choice: <a href="https://github.com/terinjokes/gulp-uglify">gulp-uglify</a></h2>

<h2 id="processing-files">Processing files</h2>

<p>We’re going to set up some different functionality for if we’re dealing with third-party scripts (like from Bower) or our own scripts. The breakdown happens inside of the main <a href="#build-cleaning">Build Cleaning</a> task.</p>

<p>NATH: you need to change the two sections below for processing to reflect useref use.</p>

<h3 id="process-for-bower-files-nath-revisit">Process for Bower Files (NATH: Revisit)</h3>

<ol>
  <li>Find all bower files and their dependencies
    <ul>
      <li><a href="https://github.com/sindresorhus/gulp-filter">gulp-filter</a> uses globbing to find all files of the type we need</li>
      <li><a href="https://github.com/ck86/main-bower-files">main-bower-files</a> helps gulp narrow this to only the bower components we need</li>
    </ul>
  </li>
  <li>Concat and uglify js files</li>
  <li>Concat css, and other assets into build/bower folder</li>
</ol>

<h3 id="process-for-app-scripts">Process for App Scripts</h3>
<ol>
  <li>We create a glob list to point to just our app’s script files
    <ul>
      <li>ignores bower files</li>
      <li>ignores test files (for now)</li>
      <li>points to all other folders in /app</li>
      <li>directly points to app.js</li>
    </ul>
  </li>
  <li>Combine all scripts into one</li>
  <li>Minify single script</li>
</ol>

  </article>

</div>

        </div>
    </div>
</div>

<!-- <div class="container-fluid">
    <div class="row-fluid">
        <div class="span12 footer navbar-inverse navbar-fixed-bottom">
            <p class="copyright">&copy;2015 . Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme by <a href="https://github.com/scotte/jekyll-clean">Scott Emmons</a>
            under
            <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution</a></p>
        </div>
    </div>
</div> -->




  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>



</body>
</html>

